PID控制的白炽灯调光系统设计与实现
一、课题背景
白炽灯作为一种传统照明设备，尽管在能效上不及LED等新型光源，但其调光平滑性和显色性仍然使其在舞台灯光、摄影补光、家居氛围照明中具有应用价值。然而，白炽灯的亮度调节通常采用简单的电压调压方式，容易因电网波动或负载变化导致亮度不稳定，影响用户体验。因此，如何实现高精度的白炽灯亮度控制成为一个值得研究的问题。
PID控制是一种经典的控制算法，广泛应用于工业自动化、温度控制、电机调速等领域。其核心思想是通过实时调整输出，使系统的实际值快速、稳定地趋近于设定值。在照明控制中，PID算法可以根据环境光强或用户设定的目标亮度，动态调整白炽灯的输入功率，从而实现精准调光。
本课题旨在设计一种基于PID控制的白炽灯调光系统，通过硬件电路采集灯泡的实时亮度，结合软件算法实现闭环控制，使白炽灯的亮度能够快速响应设定值并保持稳定。该研究不仅有助于深入理解PID控制原理，还能为传统照明设备的智能化改造提供参考。

二、课题内容
2.1 设计目标
本系统的核心目标是利用PID算法实现白炽灯亮度的精准调节，具体功能包括：
1.	亮度闭环控制：通过光敏传感器实时检测环境亮度，与目标值比较后，PID算法计算调节量并输出至调光电路。
2.	快速响应与稳定性：系统需在亮度设定值变化或外界干扰（时快速调整，避免过冲或振荡。
3.	人机交互：支持can设定PWM，目标亮度，并实时显示当前亮度值。
2.2 设计方案
硬件选择：
主控芯片：STM32F103C8Tx（成本低且支持PWM输出）。
亮度检测：bh1750光强传感器。
调光执行： PWM调光。
人机接口：OLED屏幕显示亮度百分比。

发送报文为0x111，第1位切换模式，后4位调节数据
Mode0为初始模式，什么都不会发生
Mode1为PWM模式，调节白炽灯的PWM
Mode2为PID模式，通过PID实时调节
Mode3为急停模式，立即停止
Oled实时显示光照强度，模式
同时在反馈光照
